@model WebStore.ViewModels.UserFormViewModel
@{
    ViewData["Title"] = "Edytuj dane";
}

<h1 class="display-4">Edytuj dane</h1>

<hr />
<br />


<form enctype="multipart/form-data" asp-controller="Account" asp-action="EditProfile" method="post">
    @Html.AntiForgeryToken()

    <div class="validation-summary-errors">
        @Html.ValidationSummary()
    </div>

    <div class="form-row">
        <div class="col">
            @Html.LabelFor(u => u.FirstName)
            @Html.TextBoxFor(u => u.FirstName,
                new { @class = "form-control" })
            @Html.ValidationMessageFor(u => u.FirstName)
        </div>

        <div class="col">
            @Html.LabelFor(c => c.LastName)
            @Html.TextBoxFor(c => c.LastName,
                new { @class = "form-control" })
            @Html.ValidationMessageFor(u => u.LastName)

        </div>
    </div>

    <br />

    <div class="form-group">
        @Html.LabelFor(c => c.PhoneNumber)
        @Html.TextBoxFor(c => c.PhoneNumber,
            new { @class = "form-control" })
        @Html.ValidationMessageFor(u => u.PhoneNumber)

    </div>

    <div class="form-group">
        @Html.LabelFor(c => c.Town)
        @Html.TextBoxFor(c => c.Town,
            new { @class = "form-control" })
        @Html.ValidationMessageFor(u => u.Town)

    </div>

    <div class="input-group">
        <div class="input-group-prepend">
            <span class="input-group-text" id="inputGroupFileAddon01">Zdjęcie</span>
        </div>
        <div class="custom-file">
            <input asp-for="Photo" class="custom-file-input" id="inputGroupFile01"
                   aria-describedby="inputGroupFileAddon01" />
            <label class="custom-file-label" for="inputGroupFile01">Wybierz plik</label>
        </div>
    </div>

    <div class="form-group">
        @Html.LabelFor(c => c.GenderId)
        @Html.DropDownListFor(c => c.GenderId,
            new SelectList(Model.Genders, "Id", "Name"),
            "Wybierz płeć", new { @class = "form-control" })
    </div>

    @Html.HiddenFor(u => u.Id)
    <br />
    <button type="submit" class="btn btn-primary">Zapisz</button>
</form>



@section Scripts{

    <script>
        //Pokazuje nazwe wgranego pliku
        $(document).ready(function () {
            $('.custom-file-input').on("change",
                function () {
                    var fileName = $(this).val().split("\\").pop();
                    $(this).next('.custom-file-label').html(fileName);
                });
        });
    </script>
}
